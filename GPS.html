<head>
<style>
.back
{
background:#f3f3f3;
width:1200px;
height:700px;
}.CSSPin
{
width:10px;
height:10px;
background:#FF0000;
visiable:visual;
position:absolute;
left:61px;
top:1px;
}
</style>
</head>
<body>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=UBAhnYbt6oGpDPZSMReoUgKKdpDdBKad"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.3"></script>
 <script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>
<script>
	
function locPin(Plef,Ptop)
{
var pi=document.getElementById("pin");
pi.style.left=(Plef)+"px";
pi.style.top=(Ptop-5)+"px";
pi.style.visible="visual";
console.log("定位到：("+Plef+","+Ptop+")");
}
var geolocation;

function BDpos()
{
var Bjd=-1;
var Bwd=-1;
//let BMap=window.BMap;
geolocation=new BMap.Geolocation();
//geolocation.enableSDKLocation();
let asd=Math.random();
geolocation.getCurrentPosition(function (r)
{
if(this.getStatus()==0)
{
Bwd=r['point']['lat'];
Bjd=r['point']['lng'];
var pylStr="距离西北角的偏移量(top,left)：";

//Bwd=41.837472
//Bjd=123.418586;

var lef=0;
var topp=0;
var abc=687.8048/4454;
var de=1200/11714;

topp=(41841926-Bwd*10000*100)*abc;
lef=(Bjd*10000*100-123406872)*de;
pylStr=pylStr+topp+","+lef;
console.log(Bwd);
console.log((Bwd*10000*100)+",41837472");
console.log("纬度差值"+(Bwd*10000*100-41837472));
console.log("Lef,Topp:"+lef+topp);

locPin(lef,topp);






var stri=Bjd+','+Bwd;
var sh=document.getElementById('jwd');
sh.innerHTML=stri+"<br>"+pylStr+"<br>"+asd;
console.log(stri);
console.log(r);
}
	else
		{document.getElementById('jwd').innerHTML("无法获取坐标")}
}
)



}
	
	
	
function showGPS()
{
	//let autoPlay=setInterval(BDpos,1000);
BDpos();
}
	
</script>


<script>
//西北123.406872,41.841926  东南123.418586,41.837472
</script>

<div class="back"><div id="pin" class="CSSPin"></div><img src="LNUmap/mapBack.png" width="1200px"><br><hr>
GPS定位测试
</div><br><br>
<div>经纬度：<button onclick="showGPS()">点击</button>
<div id="jwd">0,0
</div>
</div>
</body>


